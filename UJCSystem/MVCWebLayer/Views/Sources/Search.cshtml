@using Ujc.Naki.MVCWebLayer.Services
@using Ujc.Naki.MVCWebLayer.Enums

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model Ujc.Naki.MVCWebLayer.ViewModels.SearchSourcesViewModel

@Html.Partial("~/Views/Shared/_SourcesSearchPanel.cshtml", Model)

<div id="main-content">
    
    <a href="/Sources"><i class="icon-remove"></i> Zrušit vyhledávání</a>

    <br /><br />

    @foreach (var source in Model.FoundSources)
    {
        <div class="row-fluid">
            <div class="span12 well well-search">
                <h4>@source.Title</h4>
                <span class="author">@source.Author</span><br />
                <span class="datation">@source.Datation</span><br />
                <p>@source.Perex</p>
                
                <div class="pull-right">
                    <a class="btn" href="@Url.RouteUrl("SourcesDetail", new { id = "1-zizka" })">Detail</a>
                    <a class="btn" href="@Url.RouteUrl("SourcesGoThrough", new { id = 1, page = 1 })">Procházet</a>
                </div>
            </div>
        </div>
    }

</div>

@functions
{

    IEnumerable<SelectListItem> GetSourcesViewModes()
    {
        var data = Enum.GetValues(typeof(SourcesViewMode)).Cast<SourcesViewMode>().Select(v => new SelectListItem
        {
            Text = v.ToCzechString(),
            Value = v.ToString(),
        }).ToList();

        return data;
    }

}