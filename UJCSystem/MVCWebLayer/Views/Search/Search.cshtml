@using ITJakub.MVCWebLayer.Services
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model ITJakub.MVCWebLayer.ViewModels.SearchResultViewModel

@Html.Partial("~/Views/Shared/_SearchPanel.cshtml", Model.Search)

<script type="text/javascript">
    /*$(function () {
        $("#results-type > ul li.search-item:first").addClass("active");
        $("#results-type > ul li.search-item:first a").click();

        $("#results-alphabetical > ul li:first-child").addClass("active");
        $("#results-alphabetical > ul li:first-child a").click();
        
        $("#search-results-alphabetical > ul li:first-child").addClass("active");
        $("#search-results-alphabetical > ul li:first-child a").click();
        
    });*/

</script>
    
<br>

<h4>Výsledky hledání:</h4>

<div class="row-fluid">
    <div class="span12" id="search-results-ordering">
        <ul class="nav nav-tabs">
            <li><a href="#search-results-alphabetical" data-toggle="tab" data-result="search-results-alphabetical">Abecedně</a></li>
            <li><a href="#results-type" data-toggle="tab" data-result="results-type">Podle druhu a díla</a></li>
        </ul>
        
        <div class="tab-content">
            <div class="tab-pane active tabs-left" id="search-results-alphabetical">
                <ul class="nav nav-tabs">
                    @foreach (var result in Model.FoundWords)
                    {
                        <li><a data-toggle="tab" href="#@result" class="search-results-alphabetical-result" data-result="@result" data-url="@Url.RouteUrl("SearchDetail", new { searchTerm = result })" >@result</a></li>
                    }
                </ul>   
                <div class="tab-content" id="alphabetical-result-detail">
                    @foreach (var result in Model.FoundWords)
                    {
                        <div class="tab-pane" id="@result"></div>
                    }
                </div>            
            </div>
            <div class="tab-pane tabs-left" id="results-type">
                @if (Model.Results != null)
                {
                    foreach (var item in Model.Results)
                    {
                        <ul class="nav nav-tabs">
                            <li><h4>@item.Title</h4></li>
                            @foreach (var category in item.Categories)
                            {
                                <li class="search-item"><a href="#" class="search-results-type-result" data-url="@Url.RouteUrl("SearchDetailType", new { category = "book" @* book pozor na dvojtecku *@ })">@category</a></li>
                            }
                        </ul>
                    }
                }
                <ul class="nav nav-tabs">
                    <li><h4>Slovník - soudobý</h4></li>
                    <li class="search-item"><a data-toggle="tab" href="#ss1" class="search-results-type-result" data-result="ss1" data-url="@Url.RouteUrl("SearchDetailType", new { category = "ss1" })">Malý staročeský slovník (MSS)</a></li>
                    <li><h4>Historický text - staročeský</h4></li>
                    <li class="search-item"><a data-toggle="tab" href="#ss2" class="search-results-type-result" data-result="ss2" data-url="@Url.RouteUrl("SearchDetailType", new { category = "ss2" })">Knížky o řádném mluvení a mlčení</a></li>
                    <li class="search-item"><a data-toggle="tab" href="#ss3" class="search-results-type-result" data-result="ss3" data-url="@Url.RouteUrl("SearchDetailType", new { category = "ss3" })">Slovo do světa stvořenie</a></li>
                    <li><h4>Lístková kartotéka</h4></li>
                    <li class="search-item"><a data-toggle="tab" href="#ss4" class="search-results-type-result" data-result="ss4" data-url="@Url.RouteUrl("SearchDetailType", new { category = "ss4" })">Lístková kartotéka Jana Gebauera</a></li>
                </ul>
                <div class="tab-content" id="type-result-detail">
                    <div class="tab-pane" id="ss1"></div>
                    <div class="tab-pane" id="ss2"></div>
                    <div class="tab-pane" id="ss3"></div>
                    <div class="tab-pane" id="ss4"></div>
                </div>         
            </div>
        </div>
    </div>
</div>

