<?xml version="1.0" encoding="utf-8"?>

<castle>
  <components>

    <component id="ExistManager"
               type="ITJakub.SearchService.Core.Exist.ExistManager, ITJakub.SearchService.Core" />

    <component id="ExistClient"
               type="ITJakub.SearchService.Core.Exist.ExistClient, ITJakub.SearchService.Core" />

    <component id="ExistConnectionSettingsSkeleton"
               type="ITJakub.SearchService.Core.Exist.ExistConnectionSettingsSkeleton, ITJakub.SearchService.Core">
      <parameters>
        <baseUri>#{baseUri}</baseUri>
        <viewsCollection>#{viewsCollection}</viewsCollection>
        <resourcesCollection>#{resourcesCollection}</resourcesCollection>
        <xQueriesRelativeUri>#{xQueriesRelativeUri}</xQueriesRelativeUri>
        <transformationRelativeUri>#{transformationRelativeUri}</transformationRelativeUri>
        <resourceRelativeUri>#{resourceRelativeUri}</resourceRelativeUri>
        <dbUser>#{dbUser}</dbUser>
        <dbPassword>#{dbPassword}</dbPassword>
        <dbMaxResults>#{dbMaxResults}</dbMaxResults>
      </parameters>
    </component>

    <component id="UriCache"
               type="ITJakub.SearchService.Core.Exist.UriCache, ITJakub.SearchService.Core" />

    <component id="ExistResourceManager"
               service="ITJakub.SearchService.Core.Exist.IExistResourceManager, ITJakub.SearchService.Core"
               type="ITJakub.SearchService.Core.Exist.ExistResourceManager, ITJakub.SearchService.Core" />

    <component id="ExistResourceResolver"
               service="ITJakub.SearchService.Core.Exist.AttributeResolver.IExistAttributeResolver, ITJakub.SearchService.Core"
               type="ITJakub.SearchService.Core.Exist.AttributeResolver.ExistResourceResolver, ITJakub.SearchService.Core" />

    <component id="ExistQueryResolver"
               service="ITJakub.SearchService.Core.Exist.AttributeResolver.IExistAttributeResolver, ITJakub.SearchService.Core"
               type="ITJakub.SearchService.Core.Exist.AttributeResolver.ExistQueryResolver, ITJakub.SearchService.Core" />

    <component id="MethodInfoResolver"
               type="ITJakub.SearchService.Core.Exist.MethodInfoResolver, ITJakub.SearchService.Core" />

    <component type="ITJakub.SearchService.Core.Exist.XmlParser.XmlParserManager, ITJakub.SearchService.Core" />
    
    <component type="ITJakub.SearchService.Core.Exist.XmlParser.PageListParser, ITJakub.SearchService.Core" /> <!--TODO add IXmlParser interface-->
    
    <component type="ITJakub.SearchService.Core.Exist.XmlParser.BookContentParser, ITJakub.SearchService.Core" /> <!--TODO add IXmlParser interface-->
  
    <!--Dao classes-->

    <component id="BookDao" type="ITJakub.SearchService.Core.Exist.DAOs.BookDao,ITJakub.SearchService.Core" />
  </components>
</castle>