@using ITJakub.Web.Hub.Helpers
@using Ridics.Core.Structures.Shared
@using Scalesoft.Localization.AspNetCore
@using Vokabular.Shared.AspNetCore.Extensions
@model ITJakub.Web.Hub.Areas.Admin.Models.ListViewModel<ITJakub.Web.Hub.Models.PermissionViewModel>
@inject ILocalizationService Localizer
@inject PermissionLocalizer PermissionLocalizer

@foreach (var permission in Model.List)
{
<tr class="permission-row" data-permission-id="@permission.Id">
    <td>
        <input type="checkbox" asp-for="@permission.IsSelected" disabled="@(User.HasPermission(PermissionNames.AssignPermissionsToRoles) == false)" />
    </td>
    <td>
        <div class="name">
            @PermissionLocalizer.TranslatePermissionName(permission.Name)
        </div>
        <div class="status visible-xs permission-loader-wrapped">
            <span class="success">@Localizer.Translate("Changed", "Permission")</span>
        </div>
        <div class="alert alert-danger"></div>
    </td>
    <td class="status hidden-xs permission-loader">
        <span class="success">@Localizer.Translate("Changed", "Permission")</span>
    </td>
</tr>
}